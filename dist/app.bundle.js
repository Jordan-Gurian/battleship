"use strict";
(self["webpackChunkwebpack_template"] = self["webpackChunkwebpack_template"] || []).push([["app"],{

/***/ "./src/Game.js":
/*!*********************!*\
  !*** ./src/Game.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Game)
/* harmony export */ });
/* harmony import */ var _Player__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Player */ "./src/Player.js");
/* harmony import */ var _Gameboard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Gameboard */ "./src/Gameboard.js");
/* harmony import */ var _Ship__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Ship */ "./src/Ship.js");



function Game() {
  const winner = null;
  const player = null;
  const computer = null;

  // Create human and computer players and boards
  const gameSetUp = function () {
    const playerBoard = (0,_Gameboard__WEBPACK_IMPORTED_MODULE_1__["default"])();
    const computerBoard = (0,_Gameboard__WEBPACK_IMPORTED_MODULE_1__["default"])();
    this.player = (0,_Player__WEBPACK_IMPORTED_MODULE_0__["default"])(playerBoard);
    this.computer = (0,_Player__WEBPACK_IMPORTED_MODULE_0__["default"])(computerBoard, true, this.player);
    this.player.setOpponent(this.computer);
    this.player.isTurn = true;
    this.computer.isTurn = false;

    // Place ships, hardcoded for now
    const SHIP_LENGTHS = [2, 3, 3, 4, 5];
    const playerCoords = [[0, 0], [2, 2], [3, 3], [4, 4], [6, 6]];
    for (let i = 0; i < SHIP_LENGTHS.length; i++) {
      this.player.gameboard.placeShip((0,_Ship__WEBPACK_IMPORTED_MODULE_2__["default"])(SHIP_LENGTHS[i]), 'horz', playerCoords[i][0], playerCoords[i][1]);
      this.computer.gameboard.placeShip((0,_Ship__WEBPACK_IMPORTED_MODULE_2__["default"])(SHIP_LENGTHS[i]), 'horz', playerCoords[i][0], playerCoords[i][1]);
    }
  };

  // const startGame = function() {
  //     this.player.changeTurn();
  //     while (!this.player.gameboard.allShipsSunk() && !this.computer.gameboard.allShipsSunk()) {
  //         if (this.player.isTurn) {
  //             const x = Math.floor(Math.random() * 10);
  //             const y = Math.floor(Math.random() * 10);
  //             this.player.attack(x, y);
  //         } else {
  //             this.computer.randomAttack();
  //         }
  //     }
  //     this.declareWinner();
  // }

  const isGameOver = function () {
    if (this.player.gameboard.allShipsSunk()) {
      this.winner = this.computer;
    } else if (this.computer.gameboard.allShipsSunk()) {
      this.winner = this.computer;
    }
    return this.winner != null;
  };
  return {
    player,
    computer,
    winner,
    gameSetUp,
    isGameOver
  };
}

/***/ }),

/***/ "./src/Gameboard.js":
/*!**************************!*\
  !*** ./src/Gameboard.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Gameboard)
/* harmony export */ });
function Gameboard() {
  const ships = [];
  const createBoard = function () {
    const BOARD_LENGTH = 10;
    const array = Array(10);
    for (let i = 0; i < BOARD_LENGTH; i++) {
      array[i] = Array(10);
    }
    return array;
  };
  const isSpaceFree = function (x, y) {
    if (this.board[x][y] === undefined) {
      return true;
    }
    return false;
  };
  const board = createBoard();
  const placeShip = function (ship, direction, x, y) {
    const BOARD_LENGTH = 10;
    const tempBoard = this.board;
    const coords = [];
    if (x < 0 || y < 0) {
      return;
    }
    if (direction === 'horz') {
      for (let i = y; i < y + ship.length; i++) {
        if (i < BOARD_LENGTH && this.isSpaceFree(x, i)) {
          coords.push([x, i]);
        } else {
          return;
        }
      }
    } else {
      // default to vertical orientation
      for (let i = x; i < x + ship.length; i++) {
        if (i < BOARD_LENGTH && this.isSpaceFree(i, y)) {
          coords.push([i, y]);
        } else {
          return;
        }
      }
    }
    ships.push(ship);
    coords.forEach(item => {
      tempBoard[item[0]][item[1]] = ship;
    });
  };
  const receiveAttack = function (x, y) {
    if (this.board[x][y] === undefined) {
      this.board[x][y] = 'miss';
      return true;
    }
    if (typeof this.board[x][y] === "object") {
      this.board[x][y].hit();
      this.board[x][y] = 'hit';
      return true;
    }
    return false;
  };
  const allShipsSunk = function () {
    return ships.reduce((allShips, currentShip) => allShips && currentShip.isSunk(), true);
  };
  return {
    board,
    placeShip,
    isSpaceFree,
    receiveAttack,
    allShipsSunk
  };
}

/***/ }),

/***/ "./src/Interface.js":
/*!**************************!*\
  !*** ./src/Interface.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Interface)
/* harmony export */ });
/* harmony import */ var _Game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Game */ "./src/Game.js");

function Interface() {
  const interfaceSetUp = function () {
    const myGame = (0,_Game__WEBPACK_IMPORTED_MODULE_0__["default"])();
    myGame.gameSetUp();
    this.createBoard(myGame, myGame.player);
    this.createBoard(myGame, myGame.computer);
    // myGame.startGame();
    const newGameButton = document.querySelector('.new-game');
    newGameButton.addEventListener('click', () => {
      const gameOver = document.querySelector('.game-over');
      gameOver.textContent = '';
      const newGame = (0,_Game__WEBPACK_IMPORTED_MODULE_0__["default"])();
      newGame.gameSetUp();
      newGame.gameSetUp();
      this.createBoard(newGame, newGame.player);
      this.createBoard(newGame, newGame.computer);
    });
  };
  const createBoard = function (game, currentPlayer) {
    const BOARD_LENGTH = 10;
    let container;
    const box = [];
    if (!currentPlayer.isComputer) {
      container = document.querySelector('.board.human');
    } else {
      container = document.querySelector('.board.computer');
    }
    container.innerHTML = '';
    for (let i = 0; i < BOARD_LENGTH ** 2; i++) {
      box[i] = document.createElement('div');
      box[i].classList.add('board-box');
      if (!currentPlayer.isComputer) {
        this.updateBoard(game, box, currentPlayer.gameboard, i);
      }
      box[i].addEventListener('click', () => {
        if (currentPlayer.isTurn || game.winner != null) {
          return;
        }
        const x = Math.floor(i / 10);
        const y = i % 10;
        currentPlayer.opponent.attack(x, y);
        this.updateBoard(game, box, currentPlayer.gameboard, i);
        if (currentPlayer.isComputer) {
          const playerBox = Array.from(document.querySelector('.board.human').children);
          const computerAttack = currentPlayer.randomAttack();
          this.updateBoard(game, playerBox, currentPlayer.opponent.gameboard, computerAttack[0] * 10 + computerAttack[1]);
        }
        if (game.isGameOver()) {
          const gameOver = document.querySelector('.game-over');
          if (game.winner === game.player) {
            gameOver.textContent = `Left board wins! Press "New Game" to play again!`;
          } else {
            gameOver.textContent = `Right board wins! Press "New Game" to play again!`;
          }
        }
      });
      // will need to add event listener to track attacks
      container.appendChild(box[i]);
    }
  };
  const updateBoard = function (game, box, gameboard, i) {
    const x = Math.floor(i / 10);
    const y = i % 10;
    if (typeof gameboard.board[x][y] === 'object') {
      box[i].textContent = 'S';
    } else if (gameboard.board[x][y] === 'miss') {
      box[i].textContent = 'M';
    } else if (gameboard.board[x][y] === 'hit') {
      box[i].textContent = 'H';
    }
  };
  return {
    createBoard,
    interfaceSetUp,
    updateBoard
  };
}

/***/ }),

/***/ "./src/Player.js":
/*!***********************!*\
  !*** ./src/Player.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Player)
/* harmony export */ });
function Player(gameboard) {
  let isComputer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  let opponent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
  let isTurn = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  const setOpponent = function (player) {
    this.opponent = player;
  };
  const randomAttack = function () {
    const BOARD_LENGTH = 10;
    let x;
    let y;
    while (this.isTurn) {
      x = Math.floor(Math.random() * BOARD_LENGTH);
      y = Math.floor(Math.random() * BOARD_LENGTH);
      this.attack(x, y);
    }
    return [x, y];
  };
  const attack = function (x, y) {
    if (this.opponent === null) {
      return;
    }
    const madeMove = this.opponent.gameboard.receiveAttack(x, y);
    if (madeMove) {
      this.changeTurn();
      this.opponent.changeTurn();
    }
  };
  const changeTurn = function () {
    this.isTurn = !this.isTurn;
  };
  return {
    gameboard,
    isComputer,
    opponent,
    isTurn,
    setOpponent,
    attack,
    randomAttack,
    changeTurn
  };
}

/***/ }),

/***/ "./src/Ship.js":
/*!*********************!*\
  !*** ./src/Ship.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Ship)
/* harmony export */ });
function Ship(length) {
  if (length > 5) {
    this.length = 5;
  }
  if (length < 2) {
    this.length = 2;
  }
  const hit = function () {
    if (!this.isSunk()) {
      this.numHits += 1;
    }
  };
  const isSunk = function () {
    if (this.numHits >= this.length) {
      return true;
    }
    return false;
  };
  return {
    length,
    numHits: 0,
    hit,
    isSunk
  };
}

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _style_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style.css */ "./src/style.css");
/* harmony import */ var normalize_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! normalize.css */ "./node_modules/normalize.css/normalize.css");
/* harmony import */ var _Game__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Game */ "./src/Game.js");
/* harmony import */ var _Interface__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Interface */ "./src/Interface.js");





// const myGame = Game();
// myGame.gameSetUp();
// myGame.startGame();

const myUI = (0,_Interface__WEBPACK_IMPORTED_MODULE_3__["default"])();
myUI.interfaceSetUp();
// myUI.createBoard(true);
// myUI.createBoard(false);

/***/ }),

/***/ "./node_modules/normalize.css/normalize.css":
/*!**************************************************!*\
  !*** ./node_modules/normalize.css/normalize.css ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/style.css":
/*!***********************!*\
  !*** ./src/style.css ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ var __webpack_exports__ = (__webpack_exec__("./src/index.js"));
/******/ }
]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BQU87SUFBRUEsTUFBTTtJQUFFOEQsT0FBTyxFQUFFLENBQUM7SUFBRXZDLEdBQUc7SUFBRUk7RUFBTyxDQUFDO0FBQzlDOzs7Ozs7Ozs7Ozs7Ozs7QUN2QnFCO0FBQ0U7QUFDRztBQUNVOztBQUdwQztBQUNBO0FBQ0E7O0FBRUEsTUFBTW9DLElBQUksR0FBR25DLHNEQUFTLENBQUMsQ0FBQztBQUV4Qm1DLElBQUksQ0FBQ2xDLGNBQWMsQ0FBQyxDQUFDO0FBQ3JCO0FBQ0E7Ozs7Ozs7Ozs7O0FDZEE7Ozs7Ozs7Ozs7OztBQ0FBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VicGFjay10ZW1wbGF0ZS8uL3NyYy9HYW1lLmpzIiwid2VicGFjazovL3dlYnBhY2stdGVtcGxhdGUvLi9zcmMvR2FtZWJvYXJkLmpzIiwid2VicGFjazovL3dlYnBhY2stdGVtcGxhdGUvLi9zcmMvSW50ZXJmYWNlLmpzIiwid2VicGFjazovL3dlYnBhY2stdGVtcGxhdGUvLi9zcmMvUGxheWVyLmpzIiwid2VicGFjazovL3dlYnBhY2stdGVtcGxhdGUvLi9zcmMvU2hpcC5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXRlbXBsYXRlLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3dlYnBhY2stdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvbm9ybWFsaXplLmNzcy9ub3JtYWxpemUuY3NzIiwid2VicGFjazovL3dlYnBhY2stdGVtcGxhdGUvLi9zcmMvc3R5bGUuY3NzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQbGF5ZXIgZnJvbSAnLi9QbGF5ZXInXG5pbXBvcnQgR2FtZWJvYXJkIGZyb20gJy4vR2FtZWJvYXJkJztcbmltcG9ydCBTaGlwIGZyb20gJy4vU2hpcCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEdhbWUoKSB7XG4gICAgXG4gICAgY29uc3Qgd2lubmVyID0gbnVsbDtcbiAgICBjb25zdCBwbGF5ZXIgPSBudWxsO1xuICAgIGNvbnN0IGNvbXB1dGVyID0gbnVsbDtcblxuICAgIC8vIENyZWF0ZSBodW1hbiBhbmQgY29tcHV0ZXIgcGxheWVycyBhbmQgYm9hcmRzXG4gICAgY29uc3QgZ2FtZVNldFVwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IHBsYXllckJvYXJkID0gR2FtZWJvYXJkKCk7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVyQm9hcmQgPSBHYW1lYm9hcmQoKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBQbGF5ZXIocGxheWVyQm9hcmQpO1xuICAgICAgICB0aGlzLmNvbXB1dGVyID0gUGxheWVyKGNvbXB1dGVyQm9hcmQsIHRydWUsIHRoaXMucGxheWVyKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuc2V0T3Bwb25lbnQodGhpcy5jb21wdXRlcik7XG4gICAgICAgIHRoaXMucGxheWVyLmlzVHVybiA9IHRydWU7XG4gICAgICAgIHRoaXMuY29tcHV0ZXIuaXNUdXJuID0gZmFsc2U7XG5cbiAgICAgICAgLy8gUGxhY2Ugc2hpcHMsIGhhcmRjb2RlZCBmb3Igbm93XG4gICAgICAgIGNvbnN0IFNISVBfTEVOR1RIUyA9IFsyLCAzLCAzLCA0LCA1XTtcbiAgICAgICAgY29uc3QgcGxheWVyQ29vcmRzID1bWzAsMF0sIFsyLDJdLCBbMywzXSwgWzQsNF0sIFs2LDZdXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IFNISVBfTEVOR1RIUy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuZ2FtZWJvYXJkLnBsYWNlU2hpcChTaGlwKFNISVBfTEVOR1RIU1tpXSksICdob3J6JywgcGxheWVyQ29vcmRzW2ldWzBdLCBwbGF5ZXJDb29yZHNbaV1bMV0pO1xuICAgICAgICAgICAgdGhpcy5jb21wdXRlci5nYW1lYm9hcmQucGxhY2VTaGlwKFNoaXAoU0hJUF9MRU5HVEhTW2ldKSwgJ2hvcnonLCBwbGF5ZXJDb29yZHNbaV1bMF0sIHBsYXllckNvb3Jkc1tpXVsxXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjb25zdCBzdGFydEdhbWUgPSBmdW5jdGlvbigpIHtcbiAgICAvLyAgICAgdGhpcy5wbGF5ZXIuY2hhbmdlVHVybigpO1xuICAgIC8vICAgICB3aGlsZSAoIXRoaXMucGxheWVyLmdhbWVib2FyZC5hbGxTaGlwc1N1bmsoKSAmJiAhdGhpcy5jb21wdXRlci5nYW1lYm9hcmQuYWxsU2hpcHNTdW5rKCkpIHtcbiAgICAvLyAgICAgICAgIGlmICh0aGlzLnBsYXllci5pc1R1cm4pIHtcbiAgICAvLyAgICAgICAgICAgICBjb25zdCB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICAgIC8vICAgICAgICAgICAgIGNvbnN0IHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgLy8gICAgICAgICAgICAgdGhpcy5wbGF5ZXIuYXR0YWNrKHgsIHkpO1xuICAgIC8vICAgICAgICAgfSBlbHNlIHtcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmNvbXB1dGVyLnJhbmRvbUF0dGFjaygpO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9XG4gICAgLy8gICAgIHRoaXMuZGVjbGFyZVdpbm5lcigpO1xuICAgIC8vIH1cblxuICAgIGNvbnN0IGlzR2FtZU92ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmdhbWVib2FyZC5hbGxTaGlwc1N1bmsoKSkge1xuICAgICAgICAgICAgdGhpcy53aW5uZXIgPSB0aGlzLmNvbXB1dGVyO1xuICAgICAgICB9IFxuICAgICAgICBlbHNlIGlmICgodGhpcy5jb21wdXRlci5nYW1lYm9hcmQuYWxsU2hpcHNTdW5rKCkpKSB7XG4gICAgICAgICAgICB0aGlzLndpbm5lciA9IHRoaXMuY29tcHV0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMud2lubmVyICE9IG51bGxcbiAgICB9XG5cbiAgICByZXR1cm4geyBwbGF5ZXIsIGNvbXB1dGVyLCB3aW5uZXIsIGdhbWVTZXRVcCwgaXNHYW1lT3ZlciB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR2FtZWJvYXJkKCkge1xuICAgIFxuICAgIGNvbnN0IHNoaXBzID0gW107XG5cbiAgICBjb25zdCBjcmVhdGVCb2FyZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCBCT0FSRF9MRU5HVEggPSAxMDtcbiAgICAgICAgY29uc3QgYXJyYXkgPSBBcnJheSgxMCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBCT0FSRF9MRU5HVEg7IGkrKykge1xuICAgICAgICAgICAgYXJyYXlbaV0gPSBBcnJheSgxMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIGNvbnN0IGlzU3BhY2VGcmVlID0gZnVuY3Rpb24oeCwgeSkge1xuICAgICAgICBpZiAodGhpcy5ib2FyZFt4XVt5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgYm9hcmQgPSBjcmVhdGVCb2FyZCgpO1xuXG4gICAgY29uc3QgcGxhY2VTaGlwID0gZnVuY3Rpb24oc2hpcCwgZGlyZWN0aW9uLCB4LCB5KSB7XG4gICAgICAgIGNvbnN0IEJPQVJEX0xFTkdUSCA9IDEwO1xuICAgICAgICBjb25zdCB0ZW1wQm9hcmQgPSB0aGlzLmJvYXJkO1xuICAgICAgICBjb25zdCBjb29yZHMgPSBbXTtcbiAgICAgICAgaWYgKHggPCAwIHx8IHkgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdob3J6Jykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHk7IGkgPCB5ICsgc2hpcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpIDwgQk9BUkRfTEVOR1RIICYmIHRoaXMuaXNTcGFjZUZyZWUoeCwgaSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29vcmRzLnB1c2goW3gsIGldKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgeyAvLyBkZWZhdWx0IHRvIHZlcnRpY2FsIG9yaWVudGF0aW9uXG4gICAgICAgICAgICBmb3IgKGxldCBpID0geDsgaSA8IHggKyBzaGlwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPCBCT0FSRF9MRU5HVEggJiYgdGhpcy5pc1NwYWNlRnJlZShpLCB5KSkge1xuICAgICAgICAgICAgICAgICAgICBjb29yZHMucHVzaChbaSwgeV0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2hpcHMucHVzaChzaGlwKTtcbiAgICAgICAgY29vcmRzLmZvckVhY2goIChpdGVtKSA9PiB7XG4gICAgICAgICAgICB0ZW1wQm9hcmRbaXRlbVswXV1baXRlbVsxXV0gPSBzaGlwO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIGNvbnN0IHJlY2VpdmVBdHRhY2sgPSBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgIGlmICh0aGlzLmJvYXJkW3hdW3ldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYm9hcmRbeF1beV0gPSAnbWlzcyc7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5ib2FyZFt4XVt5XSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgdGhpcy5ib2FyZFt4XVt5XS5oaXQoKTtcbiAgICAgICAgICAgIHRoaXMuYm9hcmRbeF1beV0gPSAnaGl0JztcbiAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgYWxsU2hpcHNTdW5rID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBzaGlwcy5yZWR1Y2UoKGFsbFNoaXBzLCBjdXJyZW50U2hpcCkgPT4gYWxsU2hpcHMgJiYgY3VycmVudFNoaXAuaXNTdW5rKCksIHRydWUpO1xuICAgIH1cblxuICAgIHJldHVybiB7IGJvYXJkLCBwbGFjZVNoaXAsIGlzU3BhY2VGcmVlLCByZWNlaXZlQXR0YWNrLCBhbGxTaGlwc1N1bmsgfVxuXG59IiwiaW1wb3J0IEdhbWUgZnJvbSAnLi9HYW1lJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSW50ZXJmYWNlKCkge1xuXG4gICAgY29uc3QgaW50ZXJmYWNlU2V0VXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgbXlHYW1lID0gR2FtZSgpO1xuICAgICAgICBteUdhbWUuZ2FtZVNldFVwKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlQm9hcmQobXlHYW1lLCBteUdhbWUucGxheWVyKTtcbiAgICAgICAgdGhpcy5jcmVhdGVCb2FyZChteUdhbWUsIG15R2FtZS5jb21wdXRlcik7XG4gICAgICAgIC8vIG15R2FtZS5zdGFydEdhbWUoKTtcbiAgICAgICAgY29uc3QgbmV3R2FtZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXctZ2FtZScpO1xuICAgICAgICBuZXdHYW1lQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZ2FtZU92ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FtZS1vdmVyJyk7XG4gICAgICAgICAgICBnYW1lT3Zlci50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICAgICAgY29uc3QgbmV3R2FtZSA9IEdhbWUoKTtcbiAgICAgICAgICAgIG5ld0dhbWUuZ2FtZVNldFVwKCk7XG4gICAgICAgICAgICBuZXdHYW1lLmdhbWVTZXRVcCgpXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJvYXJkKG5ld0dhbWUsIG5ld0dhbWUucGxheWVyKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQm9hcmQobmV3R2FtZSwgbmV3R2FtZS5jb21wdXRlcik7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgY29uc3QgY3JlYXRlQm9hcmQgPSBmdW5jdGlvbihnYW1lLCBjdXJyZW50UGxheWVyKSB7XG4gICAgICAgIGNvbnN0IEJPQVJEX0xFTkdUSCA9IDEwO1xuICAgICAgICBsZXQgY29udGFpbmVyO1xuICAgICAgICBjb25zdCBib3ggPSBbXTtcblxuICAgICAgICBpZiAoIWN1cnJlbnRQbGF5ZXIuaXNDb21wdXRlcikge1xuICAgICAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvYXJkLmh1bWFuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm9hcmQuY29tcHV0ZXInKTtcbiAgICAgICAgfVxuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBCT0FSRF9MRU5HVEgqKjI7IGkrKykge1xuICAgICAgICAgICAgYm94W2ldID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBib3hbaV0uY2xhc3NMaXN0LmFkZCgnYm9hcmQtYm94Jyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghY3VycmVudFBsYXllci5pc0NvbXB1dGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCb2FyZChnYW1lLCBib3gsIGN1cnJlbnRQbGF5ZXIuZ2FtZWJvYXJkLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYm94W2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UGxheWVyLmlzVHVybiB8fCBnYW1lLndpbm5lciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gTWF0aC5mbG9vcihpIC8gMTApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBpICUgMTA7XG4gICAgICAgICAgICAgICAgY3VycmVudFBsYXllci5vcHBvbmVudC5hdHRhY2soeCwgeSk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCb2FyZChnYW1lLCBib3gsIGN1cnJlbnRQbGF5ZXIuZ2FtZWJvYXJkLCBpKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFBsYXllci5pc0NvbXB1dGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllckJveCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvYXJkLmh1bWFuJykuY2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wdXRlckF0dGFjayA9IGN1cnJlbnRQbGF5ZXIucmFuZG9tQXR0YWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQm9hcmQoZ2FtZSwgcGxheWVyQm94LCBjdXJyZW50UGxheWVyLm9wcG9uZW50LmdhbWVib2FyZCwgY29tcHV0ZXJBdHRhY2tbMF0gKiAxMCArIGNvbXB1dGVyQXR0YWNrWzFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGdhbWUuaXNHYW1lT3ZlcigpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVPdmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbWUtb3ZlcicpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2FtZS53aW5uZXIgPT09IGdhbWUucGxheWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lT3Zlci50ZXh0Q29udGVudCA9IGBMZWZ0IGJvYXJkIHdpbnMhIFByZXNzIFwiTmV3IEdhbWVcIiB0byBwbGF5IGFnYWluIWA7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lT3Zlci50ZXh0Q29udGVudCA9IGBSaWdodCBib2FyZCB3aW5zISBQcmVzcyBcIk5ldyBHYW1lXCIgdG8gcGxheSBhZ2FpbiFgO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB3aWxsIG5lZWQgdG8gYWRkIGV2ZW50IGxpc3RlbmVyIHRvIHRyYWNrIGF0dGFja3NcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChib3hbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgdXBkYXRlQm9hcmQgPSBmdW5jdGlvbihnYW1lLCBib3gsIGdhbWVib2FyZCwgaSkge1xuICAgICAgICBjb25zdCB4ID0gTWF0aC5mbG9vcihpIC8gMTApO1xuICAgICAgICBjb25zdCB5ID0gaSAlIDEwO1xuICAgICAgICBpZiAodHlwZW9mIGdhbWVib2FyZC5ib2FyZFt4XVt5XSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGJveFtpXS50ZXh0Q29udGVudCA9ICdTJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChnYW1lYm9hcmQuYm9hcmRbeF1beV0gPT09ICdtaXNzJykge1xuICAgICAgICAgICAgYm94W2ldLnRleHRDb250ZW50ID0gJ00nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdhbWVib2FyZC5ib2FyZFt4XVt5XSA9PT0gJ2hpdCcpIHtcbiAgICAgICAgICAgIGJveFtpXS50ZXh0Q29udGVudCA9ICdIJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7ICBjcmVhdGVCb2FyZCwgaW50ZXJmYWNlU2V0VXAsIHVwZGF0ZUJvYXJkIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBsYXllcihnYW1lYm9hcmQsIGlzQ29tcHV0ZXIgPSBmYWxzZSwgb3Bwb25lbnQgPSBudWxsLCBpc1R1cm4gPSBmYWxzZSkge1xuICAgIFxuICAgIGNvbnN0IHNldE9wcG9uZW50ID0gZnVuY3Rpb24ocGxheWVyKSB7XG4gICAgICAgIHRoaXMub3Bwb25lbnQgPSBwbGF5ZXI7XG4gICAgfVxuXG5cbiAgICBjb25zdCByYW5kb21BdHRhY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgQk9BUkRfTEVOR1RIID0gMTA7XG4gICAgICAgIGxldCB4O1xuICAgICAgICBsZXQgeTtcbiAgICAgICAgd2hpbGUgKHRoaXMuaXNUdXJuKSB7XG4gICAgICAgICAgICB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogQk9BUkRfTEVOR1RIKTtcbiAgICAgICAgICAgIHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBCT0FSRF9MRU5HVEgpO1xuICAgICAgICAgICAgdGhpcy5hdHRhY2soeCwgeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt4LCB5XVxuICAgIH1cblxuICAgIGNvbnN0IGF0dGFjayA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgaWYgKHRoaXMub3Bwb25lbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1hZGVNb3ZlID0gdGhpcy5vcHBvbmVudC5nYW1lYm9hcmQucmVjZWl2ZUF0dGFjayh4LCB5KTtcbiAgICAgICAgaWYgKG1hZGVNb3ZlKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZVR1cm4oKTtcbiAgICAgICAgICAgIHRoaXMub3Bwb25lbnQuY2hhbmdlVHVybigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY2hhbmdlVHVybiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmlzVHVybiA9ICF0aGlzLmlzVHVybjtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHsgZ2FtZWJvYXJkLCBpc0NvbXB1dGVyLCBvcHBvbmVudCwgaXNUdXJuLCBcbiAgICAgICAgc2V0T3Bwb25lbnQsIGF0dGFjaywgcmFuZG9tQXR0YWNrLCBjaGFuZ2VUdXJuIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTaGlwKGxlbmd0aCkge1xuICAgIGlmIChsZW5ndGggPiA1KSB7IFxuICAgICAgICB0aGlzLmxlbmd0aCA9IDU7XG4gICAgfVxuXG4gICAgaWYgKGxlbmd0aCA8IDIpIHtcbiAgICAgICAgdGhpcy5sZW5ndGggPSAyO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBoaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3VuaygpKSB7XG4gICAgICAgICAgICB0aGlzLm51bUhpdHMgKz0gMTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGlzU3VuayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5udW1IaXRzID49IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgbGVuZ3RoLCBudW1IaXRzOiAwLCBoaXQsIGlzU3VuayB9XG59IiwiaW1wb3J0IFwiLi9zdHlsZS5jc3NcIjtcbmltcG9ydCBcIm5vcm1hbGl6ZS5jc3NcIjtcbmltcG9ydCBHYW1lIGZyb20gJy4vR2FtZSc7XG5pbXBvcnQgSW50ZXJmYWNlIGZyb20gJy4vSW50ZXJmYWNlJztcblxuXG4vLyBjb25zdCBteUdhbWUgPSBHYW1lKCk7XG4vLyBteUdhbWUuZ2FtZVNldFVwKCk7XG4vLyBteUdhbWUuc3RhcnRHYW1lKCk7XG5cbmNvbnN0IG15VUkgPSBJbnRlcmZhY2UoKTtcblxubXlVSS5pbnRlcmZhY2VTZXRVcCgpO1xuLy8gbXlVSS5jcmVhdGVCb2FyZCh0cnVlKTtcbi8vIG15VUkuY3JlYXRlQm9hcmQoZmFsc2UpO1xuXG4iLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOlsiUGxheWVyIiwiR2FtZWJvYXJkIiwiU2hpcCIsIkdhbWUiLCJ3aW5uZXIiLCJwbGF5ZXIiLCJjb21wdXRlciIsImdhbWVTZXRVcCIsInBsYXllckJvYXJkIiwiY29tcHV0ZXJCb2FyZCIsInNldE9wcG9uZW50IiwiaXNUdXJuIiwiU0hJUF9MRU5HVEhTIiwicGxheWVyQ29vcmRzIiwiaSIsImxlbmd0aCIsImdhbWVib2FyZCIsInBsYWNlU2hpcCIsImlzR2FtZU92ZXIiLCJhbGxTaGlwc1N1bmsiLCJzaGlwcyIsImNyZWF0ZUJvYXJkIiwiQk9BUkRfTEVOR1RIIiwiYXJyYXkiLCJBcnJheSIsImlzU3BhY2VGcmVlIiwieCIsInkiLCJib2FyZCIsInVuZGVmaW5lZCIsInNoaXAiLCJkaXJlY3Rpb24iLCJ0ZW1wQm9hcmQiLCJjb29yZHMiLCJwdXNoIiwiZm9yRWFjaCIsIml0ZW0iLCJyZWNlaXZlQXR0YWNrIiwiaGl0IiwicmVkdWNlIiwiYWxsU2hpcHMiLCJjdXJyZW50U2hpcCIsImlzU3VuayIsIkludGVyZmFjZSIsImludGVyZmFjZVNldFVwIiwibXlHYW1lIiwibmV3R2FtZUJ1dHRvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJnYW1lT3ZlciIsInRleHRDb250ZW50IiwibmV3R2FtZSIsImdhbWUiLCJjdXJyZW50UGxheWVyIiwiY29udGFpbmVyIiwiYm94IiwiaXNDb21wdXRlciIsImlubmVySFRNTCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ1cGRhdGVCb2FyZCIsIk1hdGgiLCJmbG9vciIsIm9wcG9uZW50IiwiYXR0YWNrIiwicGxheWVyQm94IiwiZnJvbSIsImNoaWxkcmVuIiwiY29tcHV0ZXJBdHRhY2siLCJyYW5kb21BdHRhY2siLCJhcHBlbmRDaGlsZCIsImFyZ3VtZW50cyIsInJhbmRvbSIsIm1hZGVNb3ZlIiwiY2hhbmdlVHVybiIsIm51bUhpdHMiLCJteVVJIl0sInNvdXJjZVJvb3QiOiIifQ==